{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACZ,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACjB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACvB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACnB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/app/helpers/getAllMessages.ts"],"sourcesContent":["\"use server\"\nimport { prisma } from \"@/lib/prisma\";\nimport CheckAutenticated from \"./checkAuthenticates\";\n\nexport default async function getMessages(chatId : string) {\n\n    const response = await CheckAutenticated();\n    if (response.success == false) return {\n        success: false,\n        message: \"Authorisation Error\",\n        data: null\n    }\n    else {\n        try {\n            const userMessages = await prisma.chat.findFirst({\n                where: {\n                    id: chatId,\n                },\n\n                select: {\n                    messages: {\n                        select: {\n                            userMessage: true,\n                            ai: true\n                        }\n                    }\n                }\n            })\n\n            return {\n                success: true,\n                message: \"Messages Received\",\n                data: userMessages\n            }\n\n        }\n        catch (err) {\n            console.log(err)\n            return {\n                success: false,\n                message: \"Database Error\",\n                data: null\n            }\n        }\n    }\n}"],"names":[],"mappings":";;;;;;;2CAI8B,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction ScrollArea({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\n  return (\n    <ScrollAreaPrimitive.Root\n      data-slot=\"scroll-area\"\n      className={cn(\"relative\", className)}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport\n        data-slot=\"scroll-area-viewport\"\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\n      >\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollBar />\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  )\n}\n\nfunction ScrollBar({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\n  return (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n      data-slot=\"scroll-area-scrollbar\"\n      orientation={orientation}\n      className={cn(\n        \"flex touch-none p-px transition-colors select-none\",\n        orientation === \"vertical\" &&\n          \"h-full w-2.5 border-l border-l-transparent\",\n        orientation === \"horizontal\" &&\n          \"h-2.5 flex-col border-t border-t-transparent\",\n        className\n      )}\n      {...props}\n    >\n      <ScrollAreaPrimitive.ScrollAreaThumb\n        data-slot=\"scroll-area-thumb\"\n        className=\"bg-border relative flex-1 rounded-full\"\n      />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n  )\n}\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,WAAW,KAIoC;QAJpC,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OACmD,GAJpC;IAKlB,qBACE,6LAAC,qLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,YAAY;QACzB,GAAG,KAAK;;0BAET,6LAAC,yLAA4B;gBAC3B,aAAU;gBACV,WAAU;0BAET;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,uLAA0B;;;;;;;;;;;AAGjC;KArBS;AAuBT,SAAS,UAAU,KAIoD;QAJpD,EACjB,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OACkE,GAJpD;IAKjB,qBACE,6LAAC,oMAAuC;QACtC,aAAU;QACV,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,sDACA,gBAAgB,cACd,8CACF,gBAAgB,gBACd,gDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gMAAmC;YAClC,aAAU;YACV,WAAU;;;;;;;;;;;AAIlB;MAzBS","debugId":null}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,KAA4D;QAA5D,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC,GAA5D;IACb,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,KASb;QATa,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF,GATa;IAUd,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 344, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        \"relative flex size-8 shrink-0 overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,KAGoC;QAHpC,EACd,SAAS,EACT,GAAG,OAC+C,GAHpC;IAId,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,YAAY,KAGgC;QAHhC,EACnB,SAAS,EACT,GAAG,OACgD,GAHhC;IAInB,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,eAAe,KAGgC;QAHhC,EACtB,SAAS,EACT,GAAG,OACmD,GAHhC;IAItB,qBACE,6LAAC,iLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS","debugId":null}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/app/axiosInstance/index.ts"],"sourcesContent":["import axios from \"axios\";\n\n\n\nexport const axiosInstance = axios.create({\n    baseURL : \"http://localhost:3000\"\n})\n"],"names":[],"mappings":";;;;AAAA;;AAIO,MAAM,gBAAgB,mJAAK,CAAC,MAAM,CAAC;IACtC,SAAU;AACd","debugId":null}},
    {"offset": {"line": 426, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/app/helpers/xmltostring.ts"],"sourcesContent":["import { Step } from \"../types/user\";\n\nexport default function xmltostring(xmlInput : string) {\n  const result : Step[] = [];\n  \n  // Split the input by boltAction sections\n  const boltActionSections = xmlInput.split('<boltAction type=\"file\" filePath=\"');\n  \n  // Skip the first element (it's the opening boltArtifact tag)\n  for (let i = 1; i < boltActionSections.length; i++) {\n    const section = boltActionSections[i];\n    \n    // Extract filePath (everything before the first closing quote)\n    const filePathEnd = section.indexOf('\">');\n    const filePath = section.substring(0, filePathEnd);\n    \n    // Extract the CDATA content\n    const cdataStart = section.indexOf('<![CDATA[') + 9; // +9 to skip '<![CDATA['\n    const cdataEnd = section.indexOf(']]>');\n    const content = section.substring(cdataStart, cdataEnd).trim();\n    \n    // Extract filename from filePath\n    const fileName = filePath.split('/').pop();\n    \n    result.push({\n      title: fileName ? fileName : \"\",\n      status: \"Pending\",\n      content: content\n    });\n  }\n  \n  return result;\n}"],"names":[],"mappings":";;;;AAEe,SAAS,YAAY,QAAiB;IACnD,MAAM,SAAkB,EAAE;IAE1B,yCAAyC;IACzC,MAAM,qBAAqB,SAAS,KAAK,CAAC;IAE1C,6DAA6D;IAC7D,IAAK,IAAI,IAAI,GAAG,IAAI,mBAAmB,MAAM,EAAE,IAAK;QAClD,MAAM,UAAU,kBAAkB,CAAC,EAAE;QAErC,+DAA+D;QAC/D,MAAM,cAAc,QAAQ,OAAO,CAAC;QACpC,MAAM,WAAW,QAAQ,SAAS,CAAC,GAAG;QAEtC,4BAA4B;QAC5B,MAAM,aAAa,QAAQ,OAAO,CAAC,eAAe,GAAG,yBAAyB;QAC9E,MAAM,WAAW,QAAQ,OAAO,CAAC;QACjC,MAAM,UAAU,QAAQ,SAAS,CAAC,YAAY,UAAU,IAAI;QAE5D,iCAAiC;QACjC,MAAM,WAAW,SAAS,KAAK,CAAC,KAAK,GAAG;QAExC,OAAO,IAAI,CAAC;YACV,OAAO,WAAW,WAAW;YAC7B,QAAQ;YACR,SAAS;QACX;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 461, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/app/helpers/createMessage.ts"],"sourcesContent":["\"use server\"\nimport { prisma } from \"@/lib/prisma\";\nimport CheckAutenticated from \"./checkAuthenticates\";\n\nexport default async function CreateMessage(chatId : string , userMessage : string, aiMessage : string) {\n    const response = await CheckAutenticated();\n    if(response.success == false) return {\n                success : false,\n                message : \"Authorisation Error\",\n                data : null\n    }\n    else {\n        try {\n                const userChats = await prisma.message.create({\n                \n                    data : {\n                            \n                                        userMessage : userMessage,\n                                        ai : aiMessage,\n                                        chatId : chatId\n                                    \n                                \n                    },\n\n                    select : {\n                        \n                                        userMessage : true,\n                                        ai : true\n                                    \n                                \n                            \n\n                        \n                    }\n                })\n    \n            return {\n                success : true,\n                message : \"Data Received\",\n                data : userChats\n            }\n\n        }\n        catch (err) {\n            console.log(err)\n            return {\n                success : false,\n                message : \"Database Error\",\n                data : null\n            }\n        }\n    }\n}"],"names":[],"mappings":";;;;;;;2CAI8B,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 477, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/app/helpers/updateWebContainerState.ts"],"sourcesContent":["\"use server\"\nimport { prisma } from \"@/lib/prisma\";\nimport CheckAutenticated from \"./checkAuthenticates\";\n\nexport default async function UpdateWebContainerState(chatId : string , files : string) {\n    \n    const response = await CheckAutenticated();\n    if(response.success == false) return {\n                success : false,\n                message : \"Authorisation Error\",\n                data : null\n    }\n    else {\n        try {\n                const newState = await prisma.webContainerState.upsert({\n                    where : {\n                        chatId : chatId\n                    },\n                    update : {\n                        \n                                files :files\n                            \n                        }\n                    \n                    ,\n                    create : {\n                        files : JSON.stringify(files),\n                        chatId : chatId\n                    },\n\n                    select : {\n                        \n                                files : true\n                            }\n                        \n                    \n                \n                })\n    \n            return {\n                success : true,\n                message : \"Updated the State\",\n                data : newState\n            }\n\n        }\n        catch (err) {\n            console.log(err)\n            return {\n                success : false,\n                message : \"Database Error\",\n                data : null\n            }\n        }\n    }\n}"],"names":[],"mappings":";;;;;;;2CAI8B,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/components/user-chat-page/user.tsx"],"sourcesContent":["\"use client\";\nimport { userContext } from \"@/app/context/user\";\nimport { BoltAction, ChatMessages, FileSystemTree, Step } from \"@/app/types/user\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { Card, CardContent } from \"../ui/card\";\nimport { ListChecksIcon, SendIcon, TicketCheckIcon } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport getWebcontainerState from \"@/app/helpers/getWebContainerState\";\nimport getMessages from \"@/app/helpers/getAllMessages\";\nimport { ScrollArea } from \"../ui/scroll-area\";\nimport { Input } from \"../ui/input\";\nimport { Button } from \"../ui/button\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"../ui/avatar\";\nimport { axiosInstance } from \"@/app/axiosInstance\";\nimport { xmlToString } from \"@/app/helpers/xmltostring\";\nimport { ResponseForTemplate } from \"@/app/types/response\";\nimport CreateMessage from \"@/app/helpers/createMessage\";\nimport { buildTreeUI } from \"@/app/helpers/buildTree\";\nimport UpdateWebContainerState from \"@/app/helpers/updateWebContainerState\";\nimport { Scrollbar } from \"@radix-ui/react-scroll-area\";\n\n// function xmlToString(xml : string, ind : number ,store : string , newStep : Step, boltActionOpenCome  : number, boltActionOpenClose: number , boltActionCloseCome : number) {\n//         const n = xml.length;\n//         if(ind == n) return;\n\n//         let i = ind;\n\n//         while(i < n){\n\n//             if(boltActionOpenCome == 1 && xml[i] == \">\") {\n//                         let stepTitle = \"\";\n//                         let dummy = store.split(\" \");\n//                         stepTitle = dummy[1].split(\"=\")[1];\n//                         newStep.content = stepTitle;\n//                         boltActionOpenClose = 1;\n//                         xmlToString(xml , i ,\"\",  newStep, boltActionOpenCome, boltActionOpenClose, boltActionCloseCome);\n//                 }\n//             if(boltActionOpenClose == 1 && xml[i] == \"<\") {\n//                         let stepTitle = \"\";\n//                         let dummy = store.split(\" \");\n//                         stepTitle = dummy[1].split(\"=\")[1];\n//                         newStep.content = stepTitle;\n//                         boltActionOpenClose = 1;\n//                         xmlToString(xml , i ,\"\",  newStep, boltActionOpenCome, boltActionOpenClose, boltActionCloseCome);\n//                 }\n//             else if(xml[i] != \" \" || boltActionOpenCome == 1 || boltActionOpenClose == 1) {\n//                 store = store + xml[i];\n//             }\n//             else if(xml[i] == \" \" && store.length != 0) {\n//                     if(store == \"<boltAction\" && boltActionOpenCome == 0) {\n//                         boltActionOpenCome = 1;\n//                         xmlToString(xml , i ,\"\",  newStep, boltActionOpenCome, boltActionOpenClose, boltActionCloseCome);\n//                     }\n//             }\n//             i = i + 1;\n\n//         }\n\n//         return;\n\n// }\n\n\nexport default function UserBlock({ id }: { id: string }) {\n  const { allMessages, setAllMessages, setWebContainerState, webContainerState } = useContext(userContext)!;\n  const [updateTheStates, setUpdateTheStates] = useState<Boolean>(true);\n  const userprompt = useRef<HTMLInputElement | null>(null)\n\n  async function followBackPromptResponseFromAi(payload: string, prompt: string) {\n    try {\n      const response = await axiosInstance.post(\"/follow-back-prompt\", { lastWebcontainerState: payload, userPrompt: prompt });\n\n      console.log(response.data)\n      //removing the unwanted characters\n\n      const modifiedXML = response.data.message.slice(7, -4);\n      await UpdateWebContainerState(id, modifiedXML)\n      setWebContainerState(modifiedXML);\n      //we got the xml file in response , now we convert into steps\n      const correctedXML = await xmlToString(modifiedXML);\n      console.log(correctedXML)\n      //here i am updating the state of the webContainer\n      //here i am creating the message of user and ai(first message)\n      await CreateMessage(id, prompt, JSON.stringify(correctedXML))\n      setUpdateTheStates(true);\n      // if (messageResponse.data != null) {\n      //   let messages: ChatMessages[] = [];\n      //   for (let i = 0; i < messageResponse.data.messages.length; i++) {\n      //     const obj = {\n      //       user: messageResponse.data.messages[i].userMessage,\n      //       ai: JSON.parse(messageResponse.data.messages[i].ai)\n      //     }\n\n      //     messages.push(obj);\n      //   }\n\n      //   //now i am setting the message(updating the state)\n      //   setAllMessages(messages);\n      // }\n\n    } catch (err) {\n      console.log(err)\n      toast.error(\"Ai Model is not Running\");\n    }\n  }\n\n  useEffect(() => {\n    if (updateTheStates == true) {\n      async function getwebtateAndMessages() {\n        const messages = await getMessages(id);\n        //  console.log(messages)\n\n        if (messages.data != null) {\n          let allMessagesFromResponse = [];\n          for (let i = 0; i < messages.data.messages.length; i++) {\n            const newMessage = {\n              user: messages.data.messages[i].userMessage,\n              ai: JSON.parse(messages.data.messages[i].ai)\n            }\n            allMessagesFromResponse.push(newMessage)\n          }\n\n          console.log(\"converted Messages :\", allMessagesFromResponse)\n          setAllMessages(allMessagesFromResponse);\n        }\n      }\n\n      getwebtateAndMessages()\n      setUpdateTheStates(false);\n    }\n\n  }, [updateTheStates]);\n\n\n  return (\n    <div className=\"flex flex-col gap-5 p-3 w-full h-full\">\n      <Card className=\"w-full h-[87%]\">\n        <ScrollArea className=\"h-[99%]\">\n\n          <CardContent className=\"flex flex-col gap-3 h-full w-full\">\n            {allMessages\n              ? allMessages.map((item, index) => (\n                <div className=\"flex flex-col gap-3 \" key={index}>\n                  <div className=\"flex justify-end gap-3\">\n                        <Avatar className=\"mt-3\">\n                          <AvatarImage src=\"https://github.com/shadcn.png\" />\n                          <AvatarFallback>H</AvatarFallback>\n                        </Avatar>\n                    <Card className=\"h-15 flex p-1 gap-0 w-100\">\n                      <ScrollArea className=\"w-90 h-13\">\n                      <CardContent className=\"flex gap-3 w-full\">\n                        {item.user}\n                      </CardContent>\n                      <Scrollbar orientation=\"horizontal\"/>\n                      </ScrollArea>\n                    </Card>\n                  </div>\n\n                          <Avatar className=\"mt-3\">\n                            <AvatarImage src=\"https://github.com/shadcn.png\" />\n                            <AvatarFallback>AI</AvatarFallback>\n                          </Avatar>\n                  <div className=\"justify-start flex flex-col gap-3\">\n                    {item.ai.map((newItem, index) => (\n                      <Card key={index} className=\"h-10 flex p-1 gap-0 w-max\">\n                        <ScrollArea className=\"w-90 h-13\">\n                        <CardContent className=\"flex gap-3\">\n                          {newItem.status == \"Pending\" ? (\n                            <TicketCheckIcon />\n                          ) : (\n                            <ListChecksIcon />\n                          )}\n                          {newItem.title}\n                        </CardContent>\n\n                        </ScrollArea>\n                      </Card>\n                    ))}\n                  </div>\n                </div>\n              ))\n              : \"\"}\n          </CardContent>\n        </ScrollArea>\n      </Card >\n      <Card className=\"w-full h-[11%]\">\n        <CardContent className=\"flex gap-3\">\n          <Input ref={userprompt} placeholder=\"Ask Ai for Help\" />\n          <Button onClick={async () => {\n            if (webContainerState != null && userprompt.current != null) {\n              console.log(\"re-prompting...\")\n              console.log(\"sending for reprompting : \", { state: webContainerState, prompt: userprompt.current.value })\n              await followBackPromptResponseFromAi(webContainerState, userprompt.current.value)\n              userprompt.current.value = \"\"\n            }\n          }}>{<SendIcon />}</Button>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 823, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/app/helpers/getWebContainerState.ts"],"sourcesContent":["\"use server\"\nimport { prisma } from \"@/lib/prisma\";\nimport CheckAutenticated from \"./checkAuthenticates\";\n\nexport default async function getWebcontainerState(chatId : string) {\n    const response = await CheckAutenticated();\n    if(response.success == false) return {\n                success : false,\n                message : \"Authorisation Error\",\n                data : null\n    }\n    else {\n        try {\n                const webState = await prisma.chat.findFirst({\n                    where : {\n                            id : chatId,                        \n                    },\n                     \n                    select : {  \n                        state : {\n                            select : {\n                                files : true\n                            }\n                        }\n                    }\n                })\n    \n            return {\n                success : true,\n                message : \"files Received\",\n                data : webState\n            }\n\n        }\n        catch (err) {\n            console.log(err)\n            return {\n                success : false,\n                message : \"Database Error\",\n                data : null\n            }\n        }\n    }\n}"],"names":[],"mappings":";;;;;;;2CAI8B,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 839, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,KAGoC;QAHpC,EACZ,SAAS,EACT,GAAG,OAC6C,GAHpC;IAIZ,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,KAGgC;QAHhC,EAChB,SAAS,EACT,GAAG,OAC6C,GAHhC;IAIhB,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,KAGgC;QAHhC,EACnB,SAAS,EACT,GAAG,OACgD,GAHhC;IAInB,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,KAGgC;QAHhC,EACnB,SAAS,EACT,GAAG,OACgD,GAHhC;IAInB,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 921, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/components/ui/accordion.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDownIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Accordion({\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Root>) {\n  return <AccordionPrimitive.Root data-slot=\"accordion\" {...props} />\n}\n\nfunction AccordionItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Item>) {\n  return (\n    <AccordionPrimitive.Item\n      data-slot=\"accordion-item\"\n      className={cn(\"border-b last:border-b-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AccordionTrigger({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Trigger>) {\n  return (\n    <AccordionPrimitive.Header className=\"flex\">\n      <AccordionPrimitive.Trigger\n        data-slot=\"accordion-trigger\"\n        className={cn(\n          \"focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <ChevronDownIcon className=\"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200\" />\n      </AccordionPrimitive.Trigger>\n    </AccordionPrimitive.Header>\n  )\n}\n\nfunction AccordionContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Content>) {\n  return (\n    <AccordionPrimitive.Content\n      data-slot=\"accordion-content\"\n      className=\"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm\"\n      {...props}\n    >\n      <div className={cn(\"pt-0 pb-4\", className)}>{children}</div>\n    </AccordionPrimitive.Content>\n  )\n}\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,UAAU,KAEoC;QAFpC,EACjB,GAAG,OACkD,GAFpC;IAGjB,qBAAO,6LAAC,gLAAuB;QAAC,aAAU;QAAa,GAAG,KAAK;;;;;;AACjE;KAJS;AAMT,SAAS,cAAc,KAGgC;QAHhC,EACrB,SAAS,EACT,GAAG,OACkD,GAHhC;IAIrB,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,KAIgC;QAJhC,EACxB,SAAS,EACT,QAAQ,EACR,GAAG,OACqD,GAJhC;IAKxB,qBACE,6LAAC,kLAAyB;QAAC,WAAU;kBACnC,cAAA,6LAAC,mLAA0B;YACzB,aAAU;YACV,WAAW,IAAA,4HAAE,EACX,8SACA;YAED,GAAG,KAAK;;gBAER;8BACD,6LAAC,8OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MApBS;AAsBT,SAAS,iBAAiB,KAIgC;QAJhC,EACxB,SAAS,EACT,QAAQ,EACR,GAAG,OACqD,GAJhC;IAKxB,qBACE,6LAAC,mLAA0B;QACzB,aAAU;QACV,WAAU;QACT,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAI,WAAW,IAAA,4HAAE,EAAC,aAAa;sBAAa;;;;;;;;;;;AAGnD;MAdS","debugId":null}},
    {"offset": {"line": 1029, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/app/helpers/buildTree.ts"],"sourcesContent":["interface FileSystemTree {\n  [name: string]: DirectoryNode | FileNode;\n}\n\ninterface DirectoryNode {\n  directory: FileSystemTree;\n}\n\ninterface FileNode {\n  file: {\n    contents: string | Uint8Array;\n  };\n}\n\nexport function buildTreeUI(files: { title: string; content: string }[]): FileSystemTree {\n  const rootMap: FileSystemTree = {};\n\n  for (const file of files) {\n    const parts = file.title.split(\"/\");\n    let currentLevel: FileSystemTree = rootMap;\n\n    for (let i = 0; i < parts.length; i++) {\n      const part = parts[i];\n      const isFile = i === parts.length - 1;\n\n      if (isFile) {\n        currentLevel[part] = {\n          file: { contents: file.content },\n        };\n      } else {\n        if (!currentLevel[part]) {\n          currentLevel[part] = { directory: {} };\n        }\n        currentLevel = (currentLevel[part] as DirectoryNode).directory;\n      }\n    }\n  }\n\n  return rootMap;\n}"],"names":[],"mappings":";;;;AAcO,SAAS,YAAY,KAA2C;IACrE,MAAM,UAA0B,CAAC;IAEjC,KAAK,MAAM,QAAQ,MAAO;QACxB,MAAM,QAAQ,KAAK,KAAK,CAAC,KAAK,CAAC;QAC/B,IAAI,eAA+B;QAEnC,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;YACrC,MAAM,OAAO,KAAK,CAAC,EAAE;YACrB,MAAM,SAAS,MAAM,MAAM,MAAM,GAAG;YAEpC,IAAI,QAAQ;gBACV,YAAY,CAAC,KAAK,GAAG;oBACnB,MAAM;wBAAE,UAAU,KAAK,OAAO;oBAAC;gBACjC;YACF,OAAO;gBACL,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE;oBACvB,YAAY,CAAC,KAAK,GAAG;wBAAE,WAAW,CAAC;oBAAE;gBACvC;gBACA,eAAe,AAAC,YAAY,CAAC,KAAK,CAAmB,SAAS;YAChE;QACF;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1066, "column": 0}, "map": {"version":3,"sources":["file:///home/jagdish/Desktop/harkirat/bolt-project/my-bolt/src/components/webContainerPage/index.tsx"],"sourcesContent":["\"use client\";\nimport { userContext } from \"@/app/context/user\";\nimport { JSX, ReactNode, useContext, useEffect, useState } from \"react\";\nimport { Card, CardContent } from \"../ui/card\";\nimport getWebcontainerState from \"@/app/helpers/getWebContainerState\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"../ui/tabs\";\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"../ui/accordion\";\nimport { ScrollArea } from \"../ui/scroll-area\";\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { DirectoryNode, FileNode, WebContainer } from \"@webcontainer/api\"\nimport { FileSystemTree, Step } from \"@/app/types/user\";\nimport { buildTreeUI } from \"@/app/helpers/buildTree\";\nimport xmltostring from \"@/app/helpers/xmltostring\";\n\n\n\n\nfunction WrapperOfString({ code }: { code: string }) {\n    return (\n\n      <SyntaxHighlighter language=\"tsx\">\n        \n        {code}\n      \n      </SyntaxHighlighter>\n\n    )\n}\n\n\nfunction IframeComponent({ url }: { url: string }) {\n  return (\n    <iframe src={url} className=\"w-full h-full\"></iframe>\n  )\n}\n\nexport default function WebContainerBlock({ id }: { id: string }) {\n  const { webContainerState, setWebContainerState } = useContext(userContext)!;\n  const [webContainerFileTreeState, setWebcontainerFileTreeState] = useState<FileSystemTree>()\n  const [codePreview, setCodePreview] = useState<string>(\"\");\n  const [finalArray, setFinalArray] = useState<ReactNode>(<></>);\n  const [webContainerInstance, setWebContainerInstance] = useState<WebContainer>()\n  const [iframURL, setIframeURL] = useState<string | null>(null);\n  \n\n  function FilesShowing({ files, parser }: { files: FileSystemTree, parser: DOMParser }) {\n\n    return (\n      <div className=\"flex flex-col gap-3 w-full h-full\">\n        {Object.entries(files).map(([item, node]) =>\n\n          \"file\" in node ?\n            <span key={item} onClick={() => (setCodePreview((node as FileNode).file.contents as string))} className=\"hover:cursor-pointer bg-amber-100 rounded-[11px] p-3\">{item}</span>\n\n            :\n            <Accordion key={item} type=\"single\" collapsible>\n              <AccordionItem value={`${Math.random()}`} className=\"hover:cursor-pointer bg-amber-100 rounded-[11px] p-3\">\n                <AccordionTrigger>{item}</AccordionTrigger>\n                <ScrollArea>\n                  <AccordionContent>\n                    <FilesShowing files={((node as DirectoryNode).directory) as FileSystemTree} parser={parser} />\n                  </AccordionContent>\n\n                </ScrollArea>\n\n              </AccordionItem>\n            </Accordion>\n        )\n        }\n      </div>\n    )\n  }\n\n\n\n  useEffect(() => {\n    async function getwebstate() {\n      const messages = await getWebcontainerState(id);\n\n      let convertedMessagesForMounting;\n      if (messages.data != null) {\n        convertedMessagesForMounting = messages.data?.state?.files!;\n        console.log(convertedMessagesForMounting);\n        //file structure in string\n        setWebContainerState(convertedMessagesForMounting);\n        const correctedXML : Step[] = await xmltostring(convertedMessagesForMounting);\n        console.log(\"finalXML\",correctedXML)\n        const webContainerFileStructure = buildTreeUI(correctedXML);\n        //here i am updating the state of the webContainer\n\n        console.log(\"tree ...\", webContainerFileStructure)\n        setWebcontainerFileTreeState(webContainerFileStructure);\n        const parser = new DOMParser();\n        setFinalArray(<FilesShowing files={webContainerFileStructure} parser={parser} />);\n\n\n          const conatiner = await WebContainer.boot();\n          setWebContainerInstance(conatiner);\n          if (webContainerFileStructure != null) {\n            console.log(\"Mounting\")\n            await conatiner.mount(webContainerFileStructure);\n            console.log(\"Mounting finished\")\n          }\n        \n      }\n\n    }\n\n    getwebstate()\n  }, []);\n\n\n  useEffect(() => {\n\n    async function moutingFiles(webContainerState: FileSystemTree, webContainerInstance: WebContainer) {\n      console.log(\"state : \", webContainerState)\n      console.log(\"Mounting\")\n      await webContainerInstance?.mount(webContainerState!);\n      console.log(\"Mounting finished\")\n      const packageJSON = await webContainerInstance?.fs.readFile('package.json', 'utf-8');\n      console.log(packageJSON);\n      return \n    }\n\n    async function updateTheWebcontainerState(webContainerState : string, webContainerInstance :WebContainer ) {\n        const correctedXML = await xmltostring(webContainerState);\n        console.log(correctedXML)\n        const webContainerFileStructure = buildTreeUI(correctedXML);\n        setWebcontainerFileTreeState(webContainerFileStructure)\n        return moutingFiles(webContainerFileStructure, webContainerInstance);\n    }\n\n     if (webContainerState != null && webContainerInstance != null) {\n      console.log(\"Updating new files...\")\n       updateTheWebcontainerState(webContainerState, webContainerInstance)\n     }\n\n  }, [webContainerState])\n\n\n  async function startDevSever() {\n    const installProcess1 = await webContainerInstance?.spawn(\"npm\", [\"install\"])\n    installProcess1?.output.pipeTo(new WritableStream({\n      write(data) {\n        \n        console.log(data);\n      }\n    }))\n    \n\n    const installProcess2 = await webContainerInstance?.spawn(\"npm\", [\"run\", \"dev\"])\n    webContainerInstance?.on(\"server-ready\", (port, url) => {\n      setIframeURL(url)\n    })\n\n    installProcess2?.output.pipeTo(new WritableStream({\n      write(data) {\n\n        console.log(data);\n      }\n    }))\n\n  }\n\n  return (\n    <div className=\"w-full h-full p-3 \">\n      <Tabs defaultValue=\"code\" className=\"w-full h-full\">\n        <TabsList>\n          <TabsTrigger value=\"code\" className=\"hover:cursor-pointer\">\n            Code\n          </TabsTrigger>\n          <TabsTrigger value=\"preview\" className=\"hover:cursor-pointer\" onClick={() => { startDevSever() }}>\n            Preview\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"code\" className=\"flex gap-3 h-[97%]\">\n          <Card className=\"w-[30%] h-full\">\n            <ScrollArea className=\"h-[99%]\">\n              <CardContent className=\"w-full h-full\">\n                {finalArray ? finalArray : \"No files found\"}\n              </CardContent>\n            </ScrollArea>\n          </Card>\n\n          <Card className=\"w-[67%]\">\n            <ScrollArea className=\"h-[99%]\">\n\n              <CardContent>\n                <WrapperOfString code={codePreview} />\n              </CardContent>\n            </ScrollArea>\n          </Card>\n        </TabsContent>\n        <TabsContent value=\"preview\" className=\"w-full h-200\">\n          <Card className=\"w-full h-full\">\n            <CardContent className=\"w-full h-full\">\n              {iframURL ? <IframeComponent url={iframURL} /> : \"Preview is loading....\"}\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n\n\n\n"],"names":[],"mappings":"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","debugId":null}}]
}